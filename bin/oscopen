#!/bin/bash

function filter {
	echo "$@" | sed '
		s/+/%2B/g
		'
}

function show_pkg {
	PRJ=`filter $1`
	PKG=`filter $2`
	xdg-open "https://build.opensuse.org/package/show?package=$PKG&project=$PRJ"
}

function show_prj {
	PRJ=`filter $1`
	xdg-open "https://build.opensuse.org/project/monitor?project=$PRJ"
}

if [ $# -eq 1 ]; then
	case "$1" in
	*/*)
		show_pkg ${1%/*} ${1#*/}
		;;
	*)
		show_prj $1
		;;
	esac
elif [ $# -eq 2 ]; then
	show_pkg $1 $2
else
	exit 1
fi
